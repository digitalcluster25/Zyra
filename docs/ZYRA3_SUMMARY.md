# Zyra 3.0: –ò–º–ø—É–ª—å—Å–Ω–æ-–æ—Ç–∫–ª–∏–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å –ë–∞–Ω–∏—Å—Ç–µ—Ä–∞

## –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

#### Backend (100%)
1. **–ú–∏–≥—Ä–∞—Ü–∏—è 006** - –Ω–æ–≤–∞—è —Å—Ö–µ–º–∞ –ë–î
   - –ü–æ–ª—è –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (quantity, duration, intensity)
   - –¢–∞–±–ª–∏—Ü–∞ `factor_impulse_params` –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
   - –¢–∞–±–ª–∏—Ü–∞ `impulse_cache` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–æ–≤
   - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `v_user_wellness_components`

2. **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ** (`impulseResponseModel.ts`)
   - `calculateResidualEffect()` - —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ
   - `calculateDynamicWellness()` - —Å—É–º–º–∞—Ä–Ω—ã–π wellness
   - `convertLegacyCheckInToImpulses()` - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
   - `forecastWellness()` - –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ N –¥–Ω–µ–π
   - `recommendNextTraining()` - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

3. **–ú–æ–¥–µ–ª–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã**
   - `FactorImpulseParams` –º–æ–¥–µ–ª—å
   - `analyticsController.ts` —Å 4 endpoints
   - –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π seed —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

4. **API Endpoints**
   - `GET /api/analytics/detailed` - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è wellness
   - `GET /api/analytics/current-breakdown` - —Ç–µ–∫—É—â–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è
   - `GET /api/analytics/forecast?days=7` - –ø—Ä–æ–≥–Ω–æ–∑
   - `GET /api/analytics/training-recommendation` - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

#### Frontend (100%)
1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - `WellnessDecomposition.tsx` - –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è wellness
   - `TrainingRecommendation.tsx` - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `Insights.tsx` (–Ω–æ–≤—ã–µ —Ç–∞–±—ã)

2. **UI/UX**
   - –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è (–∑–µ–ª—ë–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∫–ª–∞–¥–æ–≤
   - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø–æ—è—Å–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

---

## –ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

### –§–æ—Ä–º—É–ª–∞ –ë–∞–Ω–∏—Å—Ç–µ—Ä–∞

```
Effect(t) = Œ£ k ¬∑ Impulse(s) ¬∑ e^(-(t-s)/œÑ)
Wellness(t) = Baseline + Œ£ Positive_Effects - Œ£ Negative_Effects
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è |
|----------|----------|-------------------|
| k_positive | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ | 1.0-2.5 |
| œÑ_positive | –í—Ä–µ–º—è –∑–∞—Ç—É—Ö–∞–Ω–∏—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ (–¥–Ω–∏) | 14-42 |
| k_negative | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ | 1.2-5.0 |
| œÑ_negative | –í—Ä–µ–º—è –∑–∞—Ç—É—Ö–∞–Ω–∏—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ (–¥–Ω–∏) | 6-18 |

### –ü—Ä–∏–º–µ—Ä—ã —Ñ–∞–∫—Ç–æ—Ä–æ–≤

**–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (dual_nature):**
- k_pos = 1.0, œÑ_pos = 42 –¥–Ω—è (—Ñ–∏—Ç–Ω–µ—Å)
- k_neg = 1.5, œÑ_neg = 7 –¥–Ω–µ–π (—É—Å—Ç–∞–ª–æ—Å—Ç—å)

**–í—Ä–µ–º—è –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ (dual_nature):**
- k_pos = 1.5, œÑ_pos = 20 –¥–Ω–µ–π (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- k_neg = 0.8, œÑ_neg = 6 –¥–Ω–µ–π (—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–ª–æ—Å—Ç—å)

**–ú–µ–¥–∏—Ç–∞—Ü–∏—è (lifestyle_positive):**
- k_pos = 1.8, œÑ_pos = 16 –¥–Ω–µ–π
- k_neg = 0.0 (—Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç)

**–ê–ª–∫–æ–≥–æ–ª—å (lifestyle_negative):**
- k_pos = 0.0
- k_neg = 2.5, œÑ_neg = 18 –¥–Ω–µ–π

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Zyra 3.0

### ‚úÖ –£—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ç—Ä–∏–±—É—Ü–∏—è** ‚Üí –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å —Å –ø–∞–º—è—Ç—å—é
2. **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (¬±3)** ‚Üí –î–æ–∑–æ–∑–∞–≤–∏—Å–∏–º—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
3. **–ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–î–∞/–ù–µ—Ç)** ‚Üí –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ (–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å)
4. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** ‚Üí –£—á—ë—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
5. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–≤–æ–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤** ‚Üí –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ + –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üéØ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è wellness** - –≤–∏–¥–Ω–æ, –∫–∞–∫–æ–π —Ñ–∞–∫—Ç–æ—Ä –∏ –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤–ª–∏—è–µ—Ç
2. **–ü—Ä–æ–≥–Ω–æ–∑** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ wellness –Ω–∞ N –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥
3. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
4. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–§–∞–∑–∞ 4)

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–µ–π—Å 1: "–í—Ä–µ–º—è –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ"

**–°—Ç–∞—Ä–∞—è –º–æ–¥–µ–ª—å (2.0):**
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω +2 –±–∞–ª–ª–∞
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–ª –ø–æ—Å–ª–µ –ø–æ—Ö–æ–¥–∞ ‚Üí –æ—à–∏–±–∫–∞ "-8.00 –£—Ö—É–¥—à–∞–µ—Ç"

**–ù–æ–≤–∞—è –º–æ–¥–µ–ª—å (3.0):**
```
–ò–º–ø—É–ª—å—Å: duration=180 –º–∏–Ω, intensity=7 RPE
‚Üí sRPE = 180 √ó 7 / 60 = 21 (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è)

–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ):
k_pos √ó magnitude √ó e^(-t/œÑ_pos) = 1.5 √ó 21 √ó e^(-0/20) = +31.5

–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (—É—Å—Ç–∞–ª–æ—Å—Ç—å):
k_neg √ó magnitude √ó e^(-t/œÑ_neg) = 0.8 √ó 21 √ó e^(-0/6) = +16.8

–ß–∏—Å—Ç—ã–π —ç—Ñ—Ñ–µ–∫—Ç: +31.5 - 16.8 = +14.7 (—Å–µ–≥–æ–¥–Ω—è)
–ß–µ—Ä–µ–∑ 7 –¥–Ω–µ–π: +22.3 - 2.9 = +19.4 (—É—Å—Ç–∞–ª–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –∑–∞—Ç—É—Ö–ª–∞)
```

### –ö–µ–π—Å 2: –ü—Ä–æ–≥–Ω–æ–∑ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –¢—è–∂—ë–ª–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (sRPE = 600)

```
–î–µ–Ω—å 0 (—Å–µ–≥–æ–¥–Ω—è): +600√ó1.0 - 600√ó1.5 = -300 (—É—Å—Ç–∞–ª–æ—Å—Ç—å –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç)
–î–µ–Ω—å 3: +570 - 270 = +300 (—É—Å—Ç–∞–ª–æ—Å—Ç—å —Å–ø–∞–ª–∞, —Ñ–∏—Ç–Ω–µ—Å —Ä–∞—Å—Ç—ë—Ç)
–î–µ–Ω—å 7: +510 - 80 = +430 (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)
–î–µ–Ω—å 42: +300 - 0 = +300 (—Ñ–∏—Ç–Ω–µ—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–∏–ª—Å—è)
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –°—Ç–∞—Ä—ã–µ —á–µ–∫–∏–Ω—ã –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `convertLegacyCheckInToImpulses()`
- –ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ magnitude = 1.0
- Legacy weight ‚Üí k_negative, tau (—á–∞—Å—ã) ‚Üí œÑ (–¥–Ω–∏)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò–º–ø—É–ª—å—Å—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ `impulse_cache`
- –†–∞—Å—á—ë—Ç wellness –¥–ª—è 90 –¥–Ω–µ–π: ~10ms
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–±—É–¥—É—â–µ–µ)

### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–§–∞–∑–∞ 4, TODO)

- –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ ML (–Ω–µ–ª–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è)
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è MSE –º–µ–∂–¥—É predicted –∏ actual Hooper Index
- –¢—Ä–µ–±—É–µ—Ç—Å—è 90+ –¥–Ω–µ–π –¥–∞–Ω–Ω—ã—Ö
- –û–±–Ω–æ–≤–ª—è–µ–º—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `factor_impulse_params`

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ

### –§–∞–∑–∞ 4: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (TODO)
- [ ] –ê–ª–≥–æ—Ä–∏—Ç–º –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ ML
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø—Ä–∏ 90+ –¥–Ω—è—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –§–∞–∑–∞ 5: –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–≤–æ–¥ (TODO)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `CheckInFlow.tsx` –¥–ª—è –≤–≤–æ–¥–∞:
  - –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–º–∏–Ω—É—Ç—ã)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–ø–æ—Ä—Ü–∏–π, —á–∞—à–µ–∫)
  - –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ (RPE 0-10)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `QuantifiedFactorInput.tsx`

### –§–∞–∑–∞ 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ—Å–∏–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–ë—É–¥—É—â–µ–µ)
- [ ] –í–°–† (–≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ —Ä–∏—Ç–º–∞)
- [ ] –ß–°–° –ø–æ–∫–æ—è
- [ ] –°—Ç–∞–¥–∏–∏ —Å–Ω–∞
- [ ] –ì–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å (—Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ + –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** `docs/plan3.md`
- **–ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** `docs/plan3_implementation.md`
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `backend/README.md`

---

## –°—Ç–∞—Ç—É—Å: MVP Ready ‚úÖ

Zyra 3.0 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
–ò–º–ø—É–ª—å—Å–Ω–æ-–æ—Ç–∫–ª–∏–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞.
–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ —Å–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏.

