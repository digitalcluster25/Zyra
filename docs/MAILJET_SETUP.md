# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mailjet –¥–ª—è Zyra

## üìß –ß—Ç–æ —Ç–∞–∫–æ–µ Mailjet?

**Mailjet** - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π email —Å–µ—Ä–≤–∏—Å –¥–ª—è transactional –∏ marketing emails —Å:
- 6,000 –ø–∏—Å–µ–º/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ (200/–¥–µ–Ω—å)
- –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä Passport (drag-and-drop)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- SMTP relay + REST API
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ë–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Mailjet

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.mailjet.com
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
4. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ **Account Settings ‚Üí API Keys**:
   - API Key (Primary)
   - Secret Key

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ

#### Backend

```bash
cd backend
npm install node-mailjet
```

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í `.env` –¥–æ–±–∞–≤—å—Ç–µ:

```env
# Email (Mailjet)
MAILJET_API_KEY=your-mailjet-api-key
MAILJET_SECRET_KEY=your-mailjet-secret-key

# –í–∞—Ä–∏–∞–Ω—Ç 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞): –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–º–µ–Ω Mailjet
EMAIL_FROM=noreply@mailjetmail.com
EMAIL_FROM_NAME=Zyra Team

# –í–∞—Ä–∏–∞–Ω—Ç 2 (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞): –∫—É–ø–∏—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω –∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –µ–≥–æ
# EMAIL_FROM=noreply@zyra.app
# EMAIL_FROM_NAME=Zyra Team

FRONTEND_URL=http://localhost:3002
```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø—Ä–æ EMAIL_FROM

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `noreply@zyra.up.railway.app`** - Railway –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä!

**–¢—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞:**

1. **–î–ª—è —Å—Ç–∞—Ä—Ç–∞ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):** `noreply@mailjetmail.com`
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É, –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å
   - Mailjet —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–∏–ª SPF/DKIM

2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–ª—É—á—à–µ):** –ö—É–ø–∏—Ç–µ –¥–æ–º–µ–Ω `zyra.app` ($10-15/–≥–æ–¥)
   - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥: `noreply@zyra.app`
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å (~98%)
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–∞–π—Ç–∞

3. **–î–ª—è —Ç–µ—Å—Ç–æ–≤:** –í–∞—à Gmail/–Ø–Ω–¥–µ–∫—Å (–ª–∏–º–∏—Ç ~100-500 –ø–∏—Å–µ–º/–¥–µ–Ω—å)

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend
cd backend
npm run dev

# Backend –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
```

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º –∏–∑ –∫–æ–¥–∞

```typescript
import { sendWelcomeEmail, sendPasswordResetEmail, sendEmailConfirmedEmail } from './services/emailService';

// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ
await sendWelcomeEmail('user@example.com', '–ò–≤–∞–Ω', 'confirmation-token');

// –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
await sendPasswordResetEmail('user@example.com', '–ò–≤–∞–Ω', 'reset-token');

// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
await sendEmailConfirmedEmail('user@example.com', '–ò–≤–∞–Ω');
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ –≤ –∞–¥–º–∏–Ω–∫–µ

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http://localhost:5173/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Email –®–∞–±–ª–æ–Ω—ã**
3. –í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. –ò–∑–º–µ–Ω–∏—Ç–µ HTML –∫–æ–¥ –∏–ª–∏ —Ç–µ–º—É –ø–∏—Å—å–º–∞
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `{{userName}}`, `{{confirmLink}}`, `{{resetLink}}`, `{{dashboardLink}}`
6. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä**
7. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ
8. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

## üé® –†–µ–¥–∞–∫—Ç–æ—Ä Passport

Mailjet –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä **Passport** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∞—Å–∏–≤—ã—Ö –ø–∏—Å–µ–º –±–µ–∑ –∫–æ–¥–∞:

1. –í–æ–π–¥–∏—Ç–µ –≤ Mailjet Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Templates ‚Üí Create a template**
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ drag-and-drop —Ä–µ–¥–∞–∫—Ç–æ—Ä
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ HTML –∫–æ–¥
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É Zyra

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

–í Mailjet Dashboard –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º
- –û—Ç–∫—Ä—ã—Ç–∏—è (opens)
- –ö–ª–∏–∫–∏ (clicks)
- –î–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å (delivery rate)
- –û—Ç–ø–∏—Å–∫–∏ (unsubscribes)

## üîí –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

–î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SPF, DKIM –∏ DMARC:

1. –í Mailjet Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Account Settings ‚Üí Sender Domains**
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `yourdomain.com`)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º Mailjet:
   - SPF: `v=spf1 include:spf.mailjet.com ~all`
   - DKIM: –ø–æ–ª—É—á–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞
   - DMARC: `v=DMARC1; p=none; rua=mailto:dmarc@yourdomain.com`

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# –í Railway Dashboard –¥–ª—è backend —Å–µ—Ä–≤–∏—Å–∞
railway variables set MAILJET_API_KEY=your-api-key
railway variables set MAILJET_SECRET_KEY=your-secret-key
railway variables set EMAIL_FROM=noreply@yourdomain.com
railway variables set EMAIL_FROM_NAME="Zyra Team"
railway variables set FRONTEND_URL=https://your-frontend-url.railway.app
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Mailjet Documentation](https://dev.mailjet.com/)
- [Node.js Library](https://github.com/mailjet/mailjet-apiv3-nodejs)
- [Email Best Practices](https://www.mailjet.com/blog/news/email-best-practices/)

## üîß Troubleshooting

### –ü–∏—Å—å–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend: `npm run dev`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤ Mailjet Dashboard

### –ü–∏—Å—å–º–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–ø–∞–º

1. –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω (SPF, DKIM, DMARC)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `EMAIL_FROM` (–Ω–µ `noreply@localhost`)
3. –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –æ—Ç–ø–∏—Å–∫—É –≤ –ø–∏—Å—å–º–∞
4. –ü—Ä–æ–≥—Ä–µ–π—Ç–µ –¥–æ–º–µ–Ω (–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –æ–±—ä–µ–º –æ—Ç–ø—Ä–∞–≤–æ–∫)

### –û—à–∏–±–∫–∞ "Authentication failed"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `MAILJET_API_KEY` –∏ `MAILJET_SECRET_KEY`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`


